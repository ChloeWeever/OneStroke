# OneStroke

### --StrokeSegmentation
笔画分割模型

#### `data` 目录

- `asset`: 存放项目所需的静态资源。
- `input_img`: 存放输入图像，目前认为是残留和无用的。
- `output_img`: 存放处理后的数据集图像。
- `tools`: 存放用于数据处理的工具函数。
- `filter.py`: 脚本用于提纯和优化从`input_img`到`output_img`的图像。

#### 文章图片

- `essay_pic`: 存放可能会在文章中使用的图片。

#### 模型参数

- `models`: 目录用于保存训练后的模型参数。（由于参数文件过大，暂无法上传github）

#### 模型训练代码

- `src`: 包含模型训练的代码.

- 第一次训练：基于200张数据集及100张验证集，使用二元交叉熵损失函数，当前显现出的问题是模型对交叉点处的预测精度不足。

- 第二次训练：在损失函数中为交叉点处设置了权重，提升了对横竖笔画交叉处的分割效果，问题：模型对v2与v4类笔画的分割效果出现问题；模型的泛化效果不足，有略微过拟合现象

- 第三次训练：引入注意力机制，并将交叉点处的BCE损失权重改为指数权重（2次），此次模型获得了较好的拟合效果，能在笔画交叉较为简单的文字中表现良好，且能提取出笔画的起始点及结尾点。问题：模型出现了轻微过拟合现象，推测原因为400张数据集在UNet模型中体量过小，将在下次训练中尝试使用LeNet模型；模型对复杂笔画（如横折弯钩、横撇）的提取效果仍然不好。